View(corpus_aggr_long)
corpus_aggr_long <- corpus_aggr_long %>%
left_join(corpus_spatial)
View(corpus_aggr_long)
remove(corpus_spatial, corpus_spatial_rur, corpus_spatial_urb)
corpus_aggr_long <- corpus_aggr_long %>%
mutate(spatial_count = ifelse(is.na(spatial_count), 0, spatial_count))
View(corpus_token_SA)
View(corpus_aggr_long)
corpus_token_SA %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, space_item, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(token, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(. ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, space_item, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(token, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(. ~ collection)
View(corpus_aggr_long)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, spatial_item, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(token, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(. ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, spatial_item, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(token, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, spatial_item, collection
) %>%
summarise(freq = n())
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, spatial_item, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(spatial_item, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, spatial_item, collection, sentiment,
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(spatial_item, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, spatial_item, collection, sentiment,
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(spatial_item, freq),
label=freq, color=space_type, fill=space_type)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, space_type, collection, sentiment,
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(spatial_item, freq),
label=freq, color=space_type, fill=space_type)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, space_type, collection, sentiment,
) %>%
summarise(spatial_count = sum(spatial_count)) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(space_type, freq),
label=freq, color=space_type, fill=space_type)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(space_type, collection, sentiment,
) %>%
summarise(spatial_count = sum(spatial_count)) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(space_type, freq),
label=freq, color=space_type, fill=space_type)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_aggr_long %>%
filter(!is.na(space_type)) %>%
group_by(space_type, collection, sentiment,
) %>%
summarise(spatial_count = sum(spatial_count)) %>%
arrange(desc(spatial_count)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=spatial_count,
y=reorder(space_type, spatial_count),
label=spatial_count, color=space_type, fill=space_type)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(sentiment ~ collection)
corpus_token_SA %>%
filter(!is.na(space_type)) %>%
group_by(sentence_id, space_item, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(token, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(. ~ collection)
corpus_token_SA %>%
filter(!is.na(category)) %>%
group_by(token, category, collection
) %>%
summarise(freq = n()) %>%
arrange(desc(freq)) %>%
head(50) %>%
ungroup() %>%
# pivot_wider(values_from = freq, names_from = type) %>%
ggplot(aes(x=freq,
y=reorder(token, freq),
label=freq, color=category, fill=category)) +
geom_bar(stat = "identity", width = .15) +
geom_point() +
geom_text(nudge_x = 10) +
ylab("interior item") +
xlab("number of total occurrences in corpus") +
facet_wrap(. ~ collection)
corpus_aggr_long %>%
group_by(space_type, sentence_id, sentiment) %>%
summarise(n = mean(sentiment)) %>%
arrange(type, desc(n)) %>% # highest on top
mutate(top = seq_along(token)) %>% # identify rank within group
filter(top <= 15) %>% # keep top 15 frequent words
ggplot(aes(x = -top, fill = type)) +
# create barplot
geom_bar(aes(y = n), stat = 'identity', width = .05) +
geom_point(aes(y = n), stat = 'identity') +
# make sure words are printed either in or next to bar
geom_text(aes(y = 0.5,
label = paste0(token, ", ", round(n, 3))), size = fs/3, hjust = "left", nudge_x = .55) +
theme(legend.position = 'none', # remove legend
text = element_text(size = fs), # determine fs
axis.text.x = element_text(angle = 45, hjust = 1), # rotate x text
axis.ticks.y = element_blank(), # remove y ticks
axis.text.y = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()) + # remove y text
labs(title = "Highest avg_annotation_valence of interior items (sentence) by space type") +
facet_grid(. ~ type,  # scales="free_x"
) + # separate plot for each sentiment
coord_flip()  + # flip axes
# scale_fill_sjplot("ipsum") +
geom_hline(aes(yintercept=0)) +
ylim(-1, 5)
corpus_aggr_long %>%
group_by(space_type, sentence_id, sentiment) %>%
summarise(n = mean(sentiment)) %>%
arrange(type, desc(n)) %>% # highest on top
mutate(top = seq_along(token)) %>% # identify rank within group
filter(top <= 15) %>% # keep top 15 frequent words
ggplot(aes(x = -top, fill = type)) +
# create barplot
geom_bar(aes(y = n), stat = 'identity', width = .05) +
geom_point(aes(y = n), stat = 'identity') +
# make sure words are printed either in or next to bar
geom_text(aes(y = 0.5,
label = paste0(token, ", ", round(n, 3))), size = fs/3, hjust = "left", nudge_x = .55) +
theme(legend.position = 'none', # remove legend
text = element_text(size = fs), # determine fs
axis.text.x = element_text(angle = 45, hjust = 1), # rotate x text
axis.ticks.y = element_blank(), # remove y ticks
axis.text.y = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()) + # remove y text
labs(title = "Highest avg_annotation_valence of interior items (sentence) by space type") +
facet_grid(. ~ space_type,  # scales="free_x"
) + # separate plot for each sentiment
coord_flip()  + # flip axes
# scale_fill_sjplot("ipsum") +
geom_hline(aes(yintercept=0)) +
ylim(-1, 5)
corpus_aggr_long %>%
group_by(space_type, sentence_id, sentiment) %>%
summarise(n = mean(sentiment)) %>%
arrange(space_type, desc(n)) %>% # highest on top
mutate(top = seq_along(token)) %>% # identify rank within group
filter(top <= 15) %>% # keep top 15 frequent words
ggplot(aes(x = -top, fill = space_type)) +
# create barplot
geom_bar(aes(y = n), stat = 'identity', width = .05) +
geom_point(aes(y = n), stat = 'identity') +
# make sure words are printed either in or next to bar
geom_text(aes(y = 0.5,
label = paste0(token, ", ", round(n, 3))), size = fs/3, hjust = "left", nudge_x = .55) +
theme(legend.position = 'none', # remove legend
text = element_text(size = fs), # determine fs
axis.text.x = element_text(angle = 45, hjust = 1), # rotate x text
axis.ticks.y = element_blank(), # remove y ticks
axis.text.y = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()) + # remove y text
labs(title = "Highest avg_annotation_valence of interior items (sentence) by space type") +
facet_grid(. ~ space_type,  # scales="free_x"
) + # separate plot for each sentiment
coord_flip()  + # flip axes
# scale_fill_sjplot("ipsum") +
geom_hline(aes(yintercept=0)) +
ylim(-1, 5)
corpus_aggr_long %>%
group_by(space_type, sentence_id, sentiment) %>%
summarise(n = mean(sentiment)) %>%
arrange(space_type, desc(n)) %>% # highest on top
mutate(top = seq_along(token))
corpus_token_SA %>%
group_by(type, token) %>%
summarise(n = mean(AAPz)) %>%
arrange(type, desc(n)) %>% # highest on top
mutate(top = seq_along(token)) %>% # identify rank within group
filter(top <= 15) %>% # keep top 15 frequent words
ggplot(aes(x = -top, fill = type)) +
# create barplot
geom_bar(aes(y = n), stat = 'identity', width = .05) +
geom_point(aes(y = n), stat = 'identity') +
# make sure words are printed either in or next to bar
geom_text(aes(y = 0.5,
label = paste0(token, ", ", round(n, 3))), size = fs/3, hjust = "left", nudge_x = .55) +
theme(legend.position = 'none', # remove legend
text = element_text(size = fs), # determine fs
axis.text.x = element_text(angle = 45, hjust = 1), # rotate x text
axis.ticks.y = element_blank(), # remove y ticks
axis.text.y = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank()) + # remove y text
labs(title = "Highest avg_annotation_valence of interior items (sentence) by space type") +
facet_grid(. ~ type,  # scales="free_x"
) + # separate plot for each sentiment
coord_flip()  + # flip axes
# scale_fill_sjplot("ipsum") +
geom_hline(aes(yintercept=0)) +
ylim(-1, 5)
corpus_aggr_long %>%
group_by(space_type, sentiment) %>%
summarise(sentiment_value = mean(sentiment_value)) %>%
ggplot(aes(x=space_type, y=sentiment_value, fill=setntiment)) +
geom_col()
corpus_aggr_long %>%
group_by(space_type, sentiment) %>%
summarise(sentiment_value = mean(sentiment_value)) %>%
ggplot(aes(x=space_type, y=sentiment_value, fill=sentiment)) +
geom_col()
corpus_aggr_long %>%
group_by(space_type, sentiment) %>%
summarise(sentiment_value = mean(sentiment_value, na.rm=T)) %>%
ggplot(aes(x=space_type, y=sentiment_value, fill=sentiment)) +
geom_col()
corpus_aggr_long %>%
group_by(space_type, sentiment) %>%
summarise(sentiment_value = mean(sentiment_value, na.rm=T)) %>%
ggplot(aes(x=space_type, y=sentiment_value, fill=sentiment)) +
geom_box()
corpus_aggr_long %>%
group_by(space_type, sentiment) %>%
summarise(sentiment_value = mean(sentiment_value, na.rm=T)) %>%
ggplot(aes(x=space_type, y=sentiment_value, fill=sentiment)) +
geom_boxplot()
corpus_aggr_long %>%
group_by(space_type, sentiment) %>%
summarise(sentiment_value = mean(sentiment_value, na.rm=T)) %>%
ggplot(aes(x=space_type, y=sentiment_value, fill=sentiment)) +
geom_col(position="dodge")
corpus_aggr_long %>%
filter(sentiment == "AAPz") %>%
fitler(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(1)
corpus_aggr_long %>%
filter(sentiment == "AAPz") %>%
filter(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(1)
corpus_aggr_long %>%
filter(sentiment == "AAPz") %>%
filter(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value))
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz") %>%
filter(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(1)
View(corpus_aggr_long)
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(1)
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(3)
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(3) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(3) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, author, title, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
mutate(top = seq_along(sentence_id)) %>%
filter(top < 3) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
mutate(top = seq_along(sentence_id)) %>%
filter(top < 3) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, sentence_id) %>%
arrange(desc(sentiment_value))
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
mutate(top = seq_along(sentiment_value))
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
mutate(top = seq_along(sentiment_value)) %>%
filter(top < 3) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
mutate(top = seq_along(sentiment_value)) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(15) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(sentiment, space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(15) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_AAPz_mean") %>%
filter(!is.na(space_type)) %>%
group_by(sentiment, space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(15) %>%
view()
corpus_aggr_long %>%
filter(sentiment == "Sentiart_disg_z_mean") %>%
filter(!is.na(space_type)) %>%
group_by(sentiment, space_type, sentence_id) %>%
arrange(desc(sentiment_value)) %>%
head(15) %>%
view()
